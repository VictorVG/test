[url=][b]Process Hacker v [/b][/url]

[more=Что нового?]
[u]Process Hacker[/u]

Исправления в исходники внёс [b] [/b]

[i] [/i]

[u]Plugins-Extra (в стадии разработки, по умолчанию в основной дистрибутив не входят)[/u]

Исправления в исходники внёс [b] [/b]

[i] [/i][/more]

Проблем у себя я не заметил, архив обновлён.

[b]ВНИМАНИЕ![/b]

[*] Начиная с v2.39 поддержка WinXP/Vista завершена, для этих ОС используйте v2.38.
[*] Настоятельно рекомендуется внимательно изучить документацию в архиве "[i]Process_Hacker-bin.7z[/i]", инструкции в шапке темы и на сайте проекта. На подробно рассмотренные там вопросы повторных ответов даваться не будет!

[more=Особенности установки и настройки Process Hacker]

Общее:

[*] Работа Process Hacker в режиме совместимости с предыдущими версиями ОС приведёт к недостоверности выводимой информации!
[*] Некоторые возможности плагинов зависят от версии ОС - смотрите инструкцию в "[i]Process_Hacker-bin.7z/plugins_install.txt[/i]" и если там стоит запись вида "[i]only for Windows ...[/i]" то плагин рассчитан именно на данную версию ОС и его корректная работа в других версиях ОС не гарантируется!.
[*] Пользователям настоятельно не рекомендуется включать использование драйвера уровня ядра (см. Привилегированные функции) поскольку это резко снижает уровень безопасности ОС.
[*] Все настройки Process Hacker и его плагинов хранятся в XML файлах "%APPDATA%\Process Hacker\settings.xml", а для Portable режима "ProcessHacker.exe.settings.xml" в каталоге Process Hacker. Записи в Реестр для драйверов, служб и интеграции в ОС создаются только по вашей команде.
[*] Моя сборка отличается от Nightly builds включением в неё экспериментальных плагинов группы Plugins-Extra и отсутствием ЭЦП в EXE/DLL модулях (это сделано специально для локализации), а так же автоматически устанавливаемыми параметрами запуска KProcessHacker3. Иных отличий в ней нет.
[*] При необходимости в конце установки будет выведен запрос на перезапуск ОС - выполните его или драйвер KProcessHacker3 не сможет перезапуститься.

[b]Управление настройками:[/b]

[*] Доступ к настройкам Process Hacker осуществляется через меню "[i]Hacker - Options", "Hacker - Plugins...[/i]" и "[i]Hacker - Options - Show advanced options - Advanced[/i]" (v3.0.5478.951, этот флаг всегда сброшен, вызов редактора настроек).
[*] Пример настроек "[i]ProcessHacker.exe.settings.xml[/i]" может быть использован для восстановления работоспособности/начальной настройки Process Hacker.
[*] По умолчанию плагин [i]Firewall Monitor[/i] отключён.
[*] Для неофициальных сборок в редакторе настроек установите значение "[i]EnableKphWarnings=0[/i]", и если установлен драйвер [i]KProcessHacker3[/i] (при работе в ограниченной учётной записи он нужен для доступа к процессам запущенным от других пользователей), то от имени администратора в консоли CMD выполните команду:

[i]@taskkill /IM ProcessHacker.exe /FI "STATUS eq running" && @sc stop KProcessHacker3 && @reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\services\KProcessHacker3\Parameters" /v "SecurityLevel" /t REG_DWORD /d 0 /f && @sc start KProcessHacker3[/i]

после чего можно запустить РН с правами обычного пользователя включив в его настройках Enable kernel-mode driver (или в редакторе настроек поставьте "EnableKPH=1").
[*] В настройках Process Hacker можно использовать относительные пути просто указав имя файла, но тогда он ищется по правилам указанные в статье MSDN [url=http://msdn.microsoft.com/ru-ru/library/7d83bc18.aspx][b]Путь поиска используемый Windows для обнаружения библиотеки DLL[/b][/url]:

   [i]Используя механизмы явного и неявного связывания, Windows сначала выполняет поиск "известных библиотек DLL", таких как Kernel32.dll и User32.dll. Затем Windows выполняет поиск библиотек DLL в следующей последовательности:

    1)    Каталог, в котором находится исполняемый модуль текущего процесса.
    2)    Текущий каталог.
    3)    Системный каталог Windows. Путь к этому каталогу извлекается с помощью функции GetSystemDirectory.
    4)    Каталог Windows. Путь к этому каталогу извлекается с помощью функции GetWindowsDirectory.
    5)    Каталоги, указанные в переменной среды PATH.[/i]

    [b]Примечание[/b]

        [i]Переменная среды LIBPATH не используется.[/i]

[*] Установленные пользователем настройки сохраняются до сброса всех настроек кнопкой "[i]Reset[/i]" в окне "[i]Options...[/i]" или удаления конфигурационных файлов "[i]%APPDATA%\Process Hacker\settings.xml[/i]" / "[i]ProcessHacker.exe.settings.xml[/i]".
[*] Опция "[i]Hacker - Options - General - Start hidden[/i]" добавлена в v3.0.5478.951 и становится доступна при включении опции "[i]Hacker - Options - General - Start when I log on[/i]".
[*] В v3.0.0 (r455) поменялись пути хранения настроек и имя ключа автозапуска с "Process Hacker 2" на "Process Hacker" для обеспечения возможности параллельной работы версий v2.x и v3.x. Инсталлятор это учитывает, потому ненужные вам папки в стартовом меню и на дисках, а так же записи автозапуска в [i]HKCU ... Run[/i] удалите сами! При обновлении существующей установки Process Hacker "[i]usernotes.xml[/i]" и "[i]settings.xml[/i]" автоматически копируются в "[i]%APPDATA%\Process Hacker[/i]".
[*] Начиная с v3.0.5695.1168 имена параметров в окне редактора настроек сортируются по алфавиту. К *.settings.xml это правило сортировки не применимо.
[*] По умолчанию каталог загрузки Cache располагается в "[i]%LOCALAPPDATA%\Process Hacker[/i]", но этот каталог можно изменить в редакторе настроек "[i]LocalCachePath[/i]" на любой иной по вашему усмотрению.
[*] Начиная с версии v3.0.5469.942 в дистрибутив при сборке автоматически добавляются пустые файлы "ProcessHacker.exe.settings.xml" и "usernotesdb.xml" (0 байт), так что стоит бэкапить свои конфиги во избежание их перезаписи.

[b]Фильтры поиска процессов:[/b]

[*] Список доступных в диалоге поиска процессов фильтров смотрите в файле "[i]process_searchbox_filter.txt[/i]" (применимы только в диалоге поиска на панели Process).

[b]Он-лайн проверка на вирусы:[/b]

[*] Для работы плагина OnlineCheck включите в меню "[i]Hacker - Options - OnlineCheck[/i]" опцию "[i]Enable VirusTotal scanning[/i]" и в меню "[i]Tools - Online Check[/i]" отметьте чекбокс "[i]Enable VirusTotal scanning[/i]" после чего обязательно перезапустите Process Hacker.
[*] Если в колонке VirusTotal пишут "[i]VirusTotal disabled[/i]" или там пусто, то ничто не мешает вам отправить на него файл через контекстное меню "[i]Send to...[/i]" процесса.

[b]Работа с БД геолокации:[/b]

[*] Флаг на панели Networks указывает страну которой был выделен IP, но это не значит что хост находится там.
[*] Для установки (обновления) БД [i]MaxMind GeoLite2-Country[/i] (БД обновляется в первый вторник каждого месяца) откройте пункт меню "[i]Tools - Network Tools - GeoIP database update...[/i]" и там последовательно нажмите кнопку "[i]Download[/i]" и через 6 - 8 секунд после завершения скачивания БД "[i]Restart[/i]".
[*] По умолчанию БД "[i]GeoLite2-Country.mmdb[/i]" ищется в каталоге "[i]%APPDATA%\Process Hacker[/i]", но этот каталог можно изменить в значении "[i]ProcessHacker.NetworkTools.GeoDbPath[/i]" конфигурационных файлов [i]settings.xml[/i] ([i]ProcessHacker.exe.settings.xml[/i]) или через редактор настроек на любой иной по вашему усмотрению.
[*] При установке Process Hacker БД MaxMind GeoLite2-Country ставится только если файл "[i]GeoLite2-Country.mmdb[/i]" (скачивается отдельно) обнаружен в том же каталоге откуда запущен инсталлятор.

[b]Работа со сменных носителей (Portable mode):[/b]

[*] При использовании Process Hacker со сменных носителей рекомендуется использовать относительные пути для [i]dbghelp.dll, GeoLite2-Country.mmdb[/i] и каталога [i]Cache[/i].
[*] Начиная с v3.0.5467.940 файл "usernotesdb.xml" при необходимости будет автоматически создан при добавлении пользовательского комментария или завершении работы Process Hacker.

[b]Работа с наборами колонок дерева процессов:[/b]

[*] Наборы колонок (Process Tree Column Set) хранятся в параметре "[i]ProcessTreeColumnSetConfig[/i]" находящемся в файле "[i]*.settings.xml[/i]", управление ими находится в меню View и доступно с v3.0.5639.1112.

[b]Привилегированные функции:[/b]

[*] По умолчанию уровень безопасности для драйвера KProcessHacker устанавливается равным 2 (проверяется ЭЦП файлов Process Hacker, подробнее см. [i]notes.txt[/i] в архиве).
[*] Пункт меню "[i]Tools - Hidden processes[/i]" добавлен в v3.0.5378.851, для его включения надо изменить значение настройки "Hacker - Options - Show advanced options" [x], Advanced, "HiddenProcessesMenuEnabled" (v3.0.5478.951) в [i]settings.xml[/i] с 0 на 1 и перезапустить Process Hacker.
[*] Функция выгрузки модулей работает только на Windows XP - 7. На Windows 8 - 10 данная возможность не доступна.
[*] Пакетные задания (во всплывающей подсказке будет стоять "[i]Process is in a job[/i]") определяются всегда, но для того, чтобы в свойствах процесса появилась вкладка Job нужно чтобы был запущен драйвер KProcessHacker3 и в опциях Process Hacker на вкладке "[i]General[/i]" надо отметить чекбокс "[i]Enable kernel-mode driver[/i]".[/more]